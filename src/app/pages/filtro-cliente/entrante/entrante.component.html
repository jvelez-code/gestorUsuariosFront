<router-outlet></router-outlet>
<!-- No olvidar agregar ReactiveFormsModule en App.module.ts, util para trabajar con formularios-->
<form class="example-container" [formGroup]="form" #frmPaciente="ngForm" >


  <div>
    <mat-card-title class="mat-card-header">APORTANTE</mat-card-title>

    <table mat-table [dataSource]="dataSourceCli" class="mat-elevation-z8">

      <ng-container matColumnDef="razonSocial">
        <th mat-header-cell *matHeaderCellDef> RAZÓN SOCIAL </th>
        <td mat-cell *matCellDef="let element"> {{element.razonSocial}} </td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="tipoDocumento.tipoDoc">
        <th mat-header-cell *matHeaderCellDef> TIPO </th>
        <td mat-cell *matCellDef="let element"> {{element.tipoDocumento.tipoDoc}} </td>
      </ng-container>

      <ng-container matColumnDef="nroDocumento">
        <th mat-header-cell *matHeaderCellDef> DOCUMENTO </th>
        <td mat-cell *matCellDef="let element"> {{element.nroDocumento}} </td>
      </ng-container>
    
      <ng-container matColumnDef="divipola.nombre">
        <th mat-header-cell *matHeaderCellDef> MUNICIPIO </th>
        <td mat-cell *matCellDef="let element"> {{element.divipola.nombre}} </td>
      </ng-container>

      <ng-container matColumnDef="divipola.idZonapadre.nombre">
        <th mat-header-cell *matHeaderCellDef> DEPARTAMENTO </th>
        <td mat-cell *matCellDef="let element"> {{element.divipola.idZonapadre.nombre}} </td>
      </ng-container>
      <!-- Weight Column -->
      <ng-container matColumnDef="correo">
        <th mat-header-cell *matHeaderCellDef> CORREO </th>
        <td mat-cell *matCellDef="let element"> {{element.correo}} </td>
      </ng-container>
    
      <!-- Symbol Column -->
      <ng-container matColumnDef="telefonoCelular">
        <th mat-header-cell *matHeaderCellDef> CELULAR </th>
        <td mat-cell *matCellDef="let element"> {{element.telefonoCelular}} </td>
      </ng-container>
    
      <ng-container matColumnDef="telefonoFijo">
        <th mat-header-cell *matHeaderCellDef> FIJO </th>
        <td mat-cell *matCellDef="let element"> {{element.telefonoFijo}} </td>
      </ng-container>
      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef  > MODIFICAR </th>
        <td mat-cell *matCellDef="let element" > 
          <button mat-button color="primary" >
            <mat-icon>ballot</mat-icon>
          </button>  
        </td>
    </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>  
</form>
   <!-- Historico de Gestiones -->
   <mat-card-title class="mat-card-header">HISTORICO</mat-card-title>
  <div>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->
    
      <!-- Position Column -->
      <ng-container matColumnDef="observacion">
        <th mat-header-cell *matHeaderCellDef> OBSERVACIÓN</th>
        <td mat-cell *matCellDef="let element"> {{element.observacion.observacion}} </td>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="fechaHoraSis">
        <th mat-header-cell *matHeaderCellDef> FECHA </th>
        <td mat-cell *matCellDef="let element"> {{element.fechaHoraSis}} </td>
      </ng-container>
    
      <!-- Weight Column -->
      <ng-container matColumnDef="numRealMarcado">
        <th mat-header-cell *matHeaderCellDef> NUMERO REAL </th>
        <td mat-cell *matCellDef="let element"> {{element.numRealMarcado}} </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="detalleGestionColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: detalleGestionColumns;"></tr>
    </table>
  </div>  

  



<!--Formulario de tipificacion-->
  
<mat-card class="example-card-cli">
  <mat-card-header>
    <div class="center">
    <mat-card-title>CLIENTE</mat-card-title></div>
  </mat-card-header>
  <mat-card-content>
  <form [formGroup]="formContacto" #frmContacto="ngForm" > 
  <table class="example-full-width" cellspacing="0" ><tr>
    
    <td><mat-form-field class="example-full-width">
      <mat-label>Nombre del Contacto</mat-label>
      <input matInput placeholder="Nombre" formControlName="nombre" >
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width">
      <mat-label>Correo del Contacto</mat-label>
      <input matInput placeholder="Correo" minlength="3" required formControlName="correo">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width">
      <mat-label>Teléfono (P)</mat-label>
      <input matInput placeholder="Principal" minlength="3" required formControlName="telPrincipal">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width">
      <mat-label>Teléfono (S)</mat-label>
      <input matInput placeholder="Secundario" minlength="3" required formControlName="telSecundario">
    </mat-form-field></td>
    <td><mat-form-field class="example-full-width">
      <mat-label>Teléfono Celular</mat-label>
      <input matInput placeholder="Celular" minlength="3" required formControlName="telCelular">
    </mat-form-field></td>
    
  </tr></table>
</form>
</mat-card-content>
</mat-card>

<!--Formulario de Guardar Gestiòn-->

<mat-card class="example-card-cli">
  <mat-card-header>
    <div class="center">
    <mat-card-title>TIPIFICACIÓN</mat-card-title></div>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="formGuardar" #frmGuardar="ngForm" (ngSubmit)="guardarGestion()">
     <table ><tr> 
      <td></td>     
      <td><mat-form-field class="example-full-width">
          <mat-label>Tipo Gestion</mat-label>
          <mat-select   placeholder="SELECCCION" [(value)]="tipoGestionP" (selectionChange)="subtipoGestion($event.value)">
            <mat-option *ngFor="let p of (  tipoGestion$ | async )" [value]="p.idEstadoGestion">
              {{p.nombre}}
            </mat-option>
          </mat-select>
        </mat-form-field></td>  
        <td></td>
        
        <td><mat-form-field class="example-full-width" >
          <mat-label>Subtipo Gestion</mat-label>
          <mat-select placeholder="SELECCCION" [(value)]="tipoGestionH" >
            <mat-option *ngFor="let p of (  subTipoGestion$ | async )" [value]="p.idEstadoGestion">
              {{p.nombre}}
            </mat-option>
          </mat-select>
        </mat-form-field></td> 
        <td></td>
      </tr></table>
  
  <div >OBSERVACIÓN</div>
    <div>
          <mat-form-field class="example-full-width" appearance="outline">
            <mat-label>Observaciones</mat-label>
            <textarea matInput  formControlName="observacionD"></textarea>
          </mat-form-field>
       
    </div>

  
    <section class="example-form">
      <div class="example-button-row">
        <button mat-raised-button color="primary" type="submit" [disabled]="formContacto.invalid" >
          <mat-icon>call</mat-icon>
          <span>GUARDAR</span>
          </button>
        <button mat-raised-button color="accent"  (click)="cancelarGestion()" style="cursor: pointer">
          CANCELAR</button>
      </div>
    </section>
    <mat-divider></mat-divider> 
    </form>
  </mat-card-content>
</mat-card>   
    
        
      

  